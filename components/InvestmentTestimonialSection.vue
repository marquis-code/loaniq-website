<template>
    <div class="w-full py-16 px-4 overflow-hidden bg-white">
      <div class="container mx-auto text-center">
        <h3 class="text-gray-500 uppercase tracking-wide text-sm mb-2">Testimonials</h3>
        
        <div class="max-w-4xl mx-auto mb-8">
          <h2 class="text-5xl font-bold mb-4 leading-tight">Trusted by leaders</h2>
          <p class="text-5xl font-light text-gray-400 mb-8">from various industries</p>
        </div>
        
        <p class="text-xl mb-16 max-w-2xl mx-auto">
          Learn why professionals trust our solutions to complete their customer journeys.
        </p>
      </div>
  
      <div class="testimonial-grid-container relative max-w-6xl mx-auto">
        <!-- First Column (Left) -->
        <div class="testimonial-column left-column">
          <div class="testimonial-card mt-16">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person1.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial1.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
          <div class="testimonial-card mt-8">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person8.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial8.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Second Column -->
        <div class="testimonial-column second-column">
          <div class="testimonial-card">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person2.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial2.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
          <div class="testimonial-card mt-12">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person9.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial9.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Third Column -->
        <div class="testimonial-column third-column">
          <div class="testimonial-card mt-24">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person3.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial3.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Fourth Column -->
        <div class="testimonial-column fourth-column">
          <div class="testimonial-card mt-8">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person4.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial4.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
          <div class="testimonial-card mt-16">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person10.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial10.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Fifth Column -->
        <div class="testimonial-column fifth-column">
          <div class="testimonial-card mt-16">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person5.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial5.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
          <div class="testimonial-card mt-20">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person11.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial11.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Sixth Column (Right) -->
        <div class="testimonial-column right-column">
          <div class="testimonial-card">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person6.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial6.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
          <div class="testimonial-card mt-12">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person12.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial12.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Middle Column (for mobile) -->
        <div class="testimonial-column middle-column">
          <div class="testimonial-card">
            <div class="flip-card">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <img src="/img/testimonials/person7.jpg" alt="Professional" class="w-full h-full object-cover rounded-xl">
                </div>
                <div class="flip-card-back rounded-xl">
                  <video class="w-full h-full object-cover rounded-xl" src="/videos/testimonial7.mp4" controls></video>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="text-center mt-20">
        <a href="#" class="bg-black text-white px-8 py-4 rounded-full inline-flex items-center font-medium hover:bg-gray-800 transition-colors">
          Read Success Stories
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
          </svg>
        </a>
      </div>
    </div>
  </template>
  
  <script setup lang="ts">
  import { onMounted } from 'vue';
  
  // Animation logic
  onMounted(() => {
    // Add a floating animation to the cards with different timings
    const cards = document.querySelectorAll('.testimonial-card');
    cards.forEach((card, index) => {
      const element = card as HTMLElement;
      // Different animation durations for more organic feel
      element.style.animation = `float ${3 + (index % 3)}s ease-in-out infinite`;
      // Staggered animation delays
      element.style.animationDelay = `${(index * 0.2) % 1.5}s`;
    });
    
    // Add event listeners for video control
    const videos = document.querySelectorAll('video');
    videos.forEach(video => {
      const flipCard = video.closest('.flip-card');
      
      // Pause video when flipped back
      if (flipCard) {
        flipCard.addEventListener('mouseleave', () => {
          video.pause();
        });
      }
    });
  });
  </script>
  
  <style scoped>
  .testimonial-grid-container {
    display: flex;
    justify-content: center;
    height: 520px;
    position: relative;
    overflow: visible;
  }
  
  .testimonial-column {
    width: 160px;
    position: relative;
    margin: 0 8px;
  }
  
  .testimonial-card {
    width: 100%;
    height: 200px;
    position: relative;
    transition: transform 0.3s ease;
  }
  
  .testimonial-card:hover {
    transform: scale(1.05);
    z-index: 10;
  }
  
  .flip-card {
    width: 100%;
    height: 100%;
    perspective: 1000px;
  }
  
  .flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.8s;
    transform-style: preserve-3d;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 12px;
  }
  
  .testimonial-card:hover .flip-card-inner {
    transform: rotateY(180deg);
  }
  
  .flip-card-front, .flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    overflow: hidden;
  }
  
  .flip-card-back {
    transform: rotateY(180deg);
    background: #000;
  }
  
  /* Floating animation */
  @keyframes float {
    0% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-8px);
    }
    100% {
      transform: translateY(0px);
    }
  }
  
  /* Special arrangements for specific columns */
  .middle-column {
    display: none; /* Hidden on desktop, shown on mobile */
  }
  
  /* Responsive design */
  @media (max-width: 1280px) {
    .testimonial-grid-container {
      flex-wrap: wrap;
      height: auto;
      max-width: 900px;
      justify-content: space-around;
    }
    
    .testimonial-column {
      margin-bottom: 24px;
    }
  }
  
  @media (max-width: 768px) {
    .testimonial-grid-container {
      max-width: 500px;
    }
    
    .testimonial-column {
      width: 140px;
    }
    
    .middle-column {
      display: block;
    }
  }
  
  @media (max-width: 640px) {
    .testimonial-grid-container {
      flex-direction: column;
      align-items: center;
    }
    
    .testimonial-column {
      width: 200px;
      margin-bottom: 16px;
    }
    
    .testimonial-card {
      margin-top: 0 !important;
      margin-bottom: 16px;
    }
  }
  </style>